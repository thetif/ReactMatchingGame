(window.webpackJsonpreactmatchinggame=window.webpackJsonpreactmatchinggame||[]).push([[0],{19:function(e,t,a){e.exports=a(33)},24:function(e,t,a){},25:function(e,t,a){e.exports=a.p+"static/media/logo.25bf045c.svg"},26:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(6),s=a.n(r),o=(a(24),a(25),a(26),a(9)),l=a.n(o),i=a(11),u=a(12),m=a(13),d=a(17),h=a(14),f=a(8),p=a(18);a(28);function g(e){var t=e.card,a=e.backImage,n=e.onClick;return console.log({card:t,backImage:a}),c.a.createElement("div",{onClick:t.flipped?void 0:n,className:"memory-card ".concat(t.matched?"matched":""," ").concat(t.flipped?"flip":"")},t.flipped?t.useImg?c.a.createElement("img",{className:"img-card",src:"".concat(t.photoUrl),alt:t.displayName}):c.a.createElement("span",{className:"name-card"},c.a.createElement("h4",{style:{fontSize:"16px",fontWeight:"500"}},t.displayName),c.a.createElement("p",{style:{fontSize:"10px"}},"Title: ",t.jobTitle,c.a.createElement("br",null),"Herd: ",t.division)):c.a.createElement("img",{className:"back-card",src:a,alt:"Memory Card"}))}var v=a(7),E=a(16);function b(e){var t=e.sendResults;return c.a.createElement(v.a.Dialog,null,c.a.createElement(v.a.Header,{closeButton:!0},c.a.createElement(v.a.Title,null,"Modal title")),c.a.createElement(v.a.Body,null,c.a.createElement("div",{style:{Color:"black"}},"Please select a source",c.a.createElement("select",null,c.a.createElement("option",{value:"fearless"},"Fearless"),c.a.createElement("option",{value:"presidents"},"Presidents")))),c.a.createElement(v.a.Footer,null,c.a.createElement(E.a,{onClick:function(){return t({source:"fearlesss"})}},"Start")))}var k=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).setupGame=Object(i.a)(l.a.mark((function e(){var t,n,c,r,s,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/gateway.php/fearless/v1/employees/directory",{method:"GET",withCredentials:!0,credentials:"include",headers:new Headers({Authorization:"Basic "+btoa("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/ReactMatchingGame"}).REACT_APP_MATCH_API_KEY,":x")),Accept:"application/json"})}).then((function(e){return e.json()})).catch((function(e){return console.error("Error: ".concat(e))}));case 2:if(t=e.sent){for(console.log(t),n=t.employees,c=[].fill(null,a.state.num_matches),r=0;r<a.state.num_matches;r++)s=Math.floor(Math.random()*n.length),(o=n[s]).useImg=!0,o.flipped=!1,c.push(o),(o=Object.assign({},o)).useImg=!1,c.push(o),n.splice(s,1);y(c),a.setState({cards:c})}case 4:case"end":return e.stop()}}),e)}))),a.sendResults=a.sendResults.bind(Object(f.a)(a)),a.state={num_matches:8,cards:[],winner:!1,turns:0,matches:0,activeCard:null,index:null,selectedSource:"fearless",backImage:"/img/fearless.png"},a.handleClick=a.handleClick.bind(Object(f.a)(a)),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"sendResults",value:function(e){var t=this;this.setState({selectedSource:e},(function(){console.log("Set selectedSource to ".concat(t.state.selectedSource))}))}},{key:"componentDidMount",value:function(){this.setupGame()}},{key:"handleClick",value:function(e){var t=this;if(console.log(this.state),!this.state.transition){var a=this.state.cards.slice();a[e].flipped=!0,this.setState({cards:a,transition:!0},(function(){var e,a=t.state.cards.slice(),n=a.filter((function(e){return e.flipped&&!e.matched})),c=t.state.matches,r=t.state.turns,s=0;2===n.length&&(r++,n[0].id===n[1].id?(n.forEach((function(e){return e.matched=!0})),c++):(s=1e3,n.forEach((function(e){return e.flipped=!1})))),(e=s,new Promise((function(t){return setTimeout(t,e)}))).then((function(){t.setState({matches:c,turns:r,cards:a,transition:!1})}))}))}}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"memory-game"},this.state.selectedSource?c.a.createElement(c.a.Fragment,null,this.state.cards.map((function(t,a){return c.a.createElement(g,{card:t,backImage:e.state.backImage,onClick:function(){return e.handleClick(a)},key:"".concat(t.useImg?"pic":"name","-").concat(t.id)})}))):c.a.createElement(b,{sendResults:this.sendResults}))}}]),t}(c.a.Component);function y(e){for(var t,a,n=e.length;n;)a=Math.floor(Math.random()*n--),t=e[n],e[n]=e[a],e[a]=t}a(32);var w=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(k,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[19,1,2]]]);
//# sourceMappingURL=main.ad075d55.chunk.js.map